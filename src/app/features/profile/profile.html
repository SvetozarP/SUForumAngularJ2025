<div class="profile"><img src="./profile.png" alt="default user">
    <h3>User Info:</h3>

    @if(!isEditMode) {
    <div class="flex">
        <p>Username: </p>
        <p>{{ currentUser()?.username || 'N/A' }}</p>
    </div>
    <div class="flex">
        <p>Email: </p>
        <p>{{currentUser()?.email || 'N/A'}}</p>
    </div>
    <div class="flex">
        <p>Phone: </p>
        <p>{{currentUser()?.phone || 'N/A'}}</p>
    </div>
    <button class="edit-button" (click)="onEdit()">Edit</button>
    } @else {
    <form [formGroup]="profileForm" (ngSubmit)="onSave()">
        <div class="flex">
            <p>Username: </p>
            <div class="input-container">
            <input 
            [class.input-error]="isUsernmeValid" 
            type="text" 
            formControlName="username"
            id="username" 
            placeholder="Johny"
            >
            @if(isUsernmeValid) {
                <p class="error">{{usernameErrorMessage}}</p>
            }
            </div>
        </div>
        <div class="flex">
            <p>Email: </p>
            <div class="input-container">
            <input 
            [class.input-error]="isEmailValid" 
            type="email" 
            formControlName="email"
            id="email" 
            placeholder="john.doe@gmail.com"
            >
            @if(isEmailValid) {
                <p class="error">{{emailErrorMessage}}</p>
            }
            </div>
        </div>
        <div class="flex">
            <p>Phone: </p>
            <div>
                <!-- <select name="select-tel" id="select-tel" class="tel">
                    <option value="00359">+359</option>
                </select> -->
                <input 
                type="text" 
                formControlName="phone"
                id="tel" 
                >
            </div>
        </div>
        <div class="button-container">
            <button class="red-button" type="button" (click)="onCancel()">Cancel</button>
            <button class="green-button" [disabled]="profileForm.invalid" type="submit">Save</button>
        </div>
    </form>
    }
</div>